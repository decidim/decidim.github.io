<% direction = direction ||= "down" %>

<% if show_language_switcher? %>
<div class="inline-block relative group">

  <span class="flex space-x-2 items-center"><%= icon "ri-global-line" %> <span class="uppercase"><%= I18n.locale %></span></span>

  <ul class="absolute -left-3 shadow-md overflow-hidden invisible transition group-hover:visible <%= direction == 'up' ? 'top-0 rounded-t-xl translate-y-1/4 group-hover:-translate-y-full' : '-top-3 pt-10 rounded-b-xl -translate-y-1/4 group-hover:translate-y-0' %>">
    <% data.languages.each do |lang| %>
      <li class="bg-white text-black text-base <%= direction == 'up' ? 'first:pt-3' : 'last:pb-3' %>">
        <% link_to(current_path_for_locale(lang.path), class: "flex items-center justify-end space-x-2 px-6 hover:bg-gray-300") do %>
          <%= icon "ri-check-fill", class: "text-red-500 text-xl" if I18n.locale.to_s == lang.path.to_s %>
          <span><%= lang.name %></span>
        <% end %>
      </li>
    <% end %>
  </ul>
</div>
<% end %>
